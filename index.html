<!DOCTYPE html>
<html lang="en">
<head>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EJJ6G8M471"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-EJJ6G8M471');
    </script>

    <meta charset="UTF-8">
    <title>RAM HP MD Home</title>
    <script src="seasonDates.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css"/>


    <script>
        const todayDate = new Date()
        const year = todayDate.getFullYear()
        const month = todayDate.getMonth() + 1
        const day = todayDate.getDate()
        const todayDateBasic = new Date(`${month}/${day}/${year}`)

        const seasonStartMonth = 8    // think the MD season turnover is July 31/August 1
        const seasonStartYear = month < seasonStartMonth ? year - 1 : year;
        const seasonString = `${seasonStartYear}/${seasonStartYear + 1}`

        const seasonDatesObj = seasonDates[seasonStartYear]
        const startMillis = seasonDatesObj["start"]
        const thanksgivingMillis = seasonDatesObj["thanksgiving"]
        const endMillis = seasonDatesObj["end"]
        
        // Create the start date components
        const startDateFromMillis = new Date(startMillis)
        const startDateYear = startDateFromMillis.getFullYear()
        const startDateMonth = startDateFromMillis.getMonth() + 1
        const startDateDay = startDateFromMillis.getDate()
        const startDateBasic = new Date(`${startDateMonth}/${startDateDay}/${startDateYear}`)

        // Create the thanksgiving date components
        const thanksgivingDateFromMillis = new Date(thanksgivingMillis)
        const thanksgivingDateYear = thanksgivingDateFromMillis.getFullYear()
        const thanksgivingDateMonth = thanksgivingDateFromMillis.getMonth() + 1
        const thanksgivingDateDay = thanksgivingDateFromMillis.getDate()
        const thanksgivingDateBasic = new Date(`${thanksgivingDateMonth}/${thanksgivingDateDay}/${thanksgivingDateYear}`)

        // No need to create the end date components since is always Feb 3
        const endDateBasic = new Date(`February 3, ${seasonStartYear + 1}`)
        
        function deerSeasonDay() {
            if (startDateBasic <= todayDateBasic && todayDateBasic <= endDateBasic) {
                let differenceMillis = todayDate.getTime() - thanksgivingMillis
                let days = differenceMillis / (1000 * 3600 * 24);
                return `${Math.floor(days)}`
            }
            else {
                return `Not deer season`
            }

        }

        window.onload = function(){
            document.getElementById('todayDate').innerHTML = `Today: ${todayDateBasic.toLocaleDateString()}`;
            document.getElementById('season').innerHTML = `Season: ${seasonString}`;
            document.getElementById('seasonStart').innerHTML = `Season Start: ${startDateFromMillis.toLocaleDateString()}`;
            // document.getElementById('seasonEnd').innerHTML = `Season End: ${endDateBasic.toLocaleDateString()}`;
            document.getElementById('seasonDay').innerHTML = `Season Day: ${deerSeasonDay()}`;

        };


    </script>
</head>
<body>
    <header>
        <div>
            <table id="infoTable">
                <tr>
                    <!-- <th></th> -->
                </tr>
                <tr>
                    <th><a href="About.html">About</a></th>
                    <th><a href="Tips.html">Tips & FAQ</a></th>
                    <th><a href="Feedback.html">Feedback</a></th>

                    <!-- <th><a href="HPMD/huntLocations.html" target="_blank">Locations Map Only</a></th> -->
                </tr>
            </table>
            <!-- <h2>Harvested Animals Research Tool (HART)</h2> -->
        </div>
        <div id="hpmdHeader">
            <h1 id="hpmdHeaderText">Hunting Public Maryland Resources</h1>
        </div>
        <hr>
    </header>
    <!-- <hr> -->
    <div>
        <h2><a href="HPMD/landcodes.html">Deer HART</a></h2>
        <h3>RAM Deer Season Stats</h3>
        <ul>
            <!-- <li id="seasonEnd"></li> -->
            <li id="season"></li>
            <li id="seasonStart"></li>
        </ul>
        <ul>
            <li id="todayDate"></li>
            <li id="seasonDay"></li>
        </ul>
        <p>** Thanksgiving day is "Season Day" zero (0). See the Tips page for more on this.</p>



    </div>
    <hr>
    <div>
        <p>HART... Harvested Animals Research Tool</p>
        <p>The information in map popups is based on <a href="https://www.eregulations.com/assets/docs/guides/22MDHD.pdf" target="_blank">2022-2023 MD DNR Hunting Guide</a></p></div>
    </div>
    <!-- <hr> -->
    <div>
        <a href="Disclaimer.html">DISCLAIMER</a>
    </div>
    
</body>
<footer class="footer">
    &copy; Copyright 2022 RAM Mapping<br>
</footer>
</html>